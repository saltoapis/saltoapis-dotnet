load("@io_bazel_rules_dotnet//dotnet:defs.bzl", "nuget_package")
load("//:csharp_metadata.bzl", "PROTOBUF_VERSION")

def saltoapis_nuget_dependencies():
    """Adds nuget dependency repositories.

       The contents of this function are autogenerated by 'nuget2bazel'.
       By design, Bazel is not able to determine Nuget dependencies at run time.
       That's why a special tool is needed to extract those dependencies and list them directly.
       check:https://github.com/bazelbuild/rules_dotnet/blob/master/tools/nuget2bazel/README.rst
       There commands are used to retrieve new dependencies and should be only used when changing
       dependencies (version upgrades should be fine though).

        How to update dependencies?

        We need to manually update the dependencies generated by 'nuget2bazel' to comply with the PROTOBUF_VERSION define
        by proto-builder. Thats why will generate them in a .tmp folder:

            $ mkdir -p .tmp

        These commands will generate a WORKSPACE file that contains the 'nuget_package' definitions for the dependencies. 

            $ bazel run @io_bazel_rules_dotnet//tools/nuget2bazel:nuget2bazel.exe -- add -p $(pwd)/.tmp Grpc.Core 2.34.0
            $ bazel run @io_bazel_rules_dotnet//tools/nuget2bazel:nuget2bazel.exe -- add -p $(pwd)/.tmp Google.Protobuf 3.14.0 # change to PROTOBUF_VERSION
            $ bazel run @io_bazel_rules_dotnet//tools/nuget2bazel:nuget2bazel.exe -- add -p $(pwd)/.tmp Google.Api.CommonProtos 2.2.0

        We will copy those rules to this file, and then update the 'Google.Protobuf' version to match 'PROTOBUF_VERSION':
            nuget_package(
                name = "google.protobuf",
                package = "google.protobuf",
                version = PROTOBUF_VERSION,
    """

    ### Generated by the tool
    nuget_package(
        name = "system.buffers",
        package = "system.buffers",
        version = "4.5.1",
        sha256 = "c30b3dd2c7e2f4cee4b823d692fd42118309b42ab1f5007f923d329a5b0d6b12",
    )
    nuget_package(
        name = "system.numerics.vectors",
        package = "system.numerics.vectors",
        version = "4.5.0",
        sha256 = "a9d49320581fda1b4f4be6212c68c01a22cdf228026099c20a8eabefcf90f9cf",
    )
    nuget_package(
        name = "system.runtime.compilerservices.unsafe",
        package = "system.runtime.compilerservices.unsafe",
        version = "4.7.1",
        sha256 = "52fca80d5f0ed286371cf1b519b039e9855dbf04c611f8d8479816d4eec82b85",
        core_lib = {
            "netcoreapp2.0": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
            "netcoreapp2.1": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
            "netcoreapp3.0": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
            "netcoreapp3.1": "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
        },
        core_ref = {
            "netcoreapp2.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
            "netcoreapp2.1": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
            "netcoreapp3.0": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
            "netcoreapp3.1": "ref/netstandard2.0/System.Runtime.CompilerServices.Unsafe.dll",
        },
        core_files = {
            "netcoreapp2.0": [
            "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
            ],
            "netcoreapp2.1": [
            "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
            ],
            "netcoreapp3.0": [
            "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
            ],
            "netcoreapp3.1": [
            "lib/netcoreapp2.0/System.Runtime.CompilerServices.Unsafe.dll",
            ],
        },
    )
    nuget_package(
        name = "system.memory",
        package = "system.memory",
        version = "4.5.4",
        sha256 = "dec0847f33b8823e4260672d97d657411461c00ada3107ec7bbcb32a845eeb91",
        core_lib = {
            "netcoreapp2.0": "lib/netstandard2.0/System.Memory.dll",
        },
        core_deps = {
            "netcoreapp2.0": [
            "@system.runtime.compilerservices.unsafe//:netcoreapp2.0_core",
            ],
        },
        core_files = {
            "netcoreapp2.0": [
            "lib/netstandard2.0/System.Memory.dll",
            ],
        },
    )
    nuget_package(
        name = "grpc.core.api",
        package = "grpc.core.api",
        version = "2.35.0",
        sha256 = "cec8485deaa75e8c669fb7ce8c8a401445320a73159a5699d4d7cf7355a1d3b1",
        core_lib = {
            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Core.Api.dll",
            "netcoreapp3.0": "lib/netstandard2.0/Grpc.Core.Api.dll",
            "netcoreapp3.1": "lib/netstandard2.0/Grpc.Core.Api.dll",
        },
        core_deps = {
            "netcoreapp2.0": [
            "@system.memory//:netcoreapp2.0_core",
            ],
            "netcoreapp2.1": [
            "@system.memory//:netcoreapp2.1_core",
            ],
            "netcoreapp3.0": [
            "@system.memory//:netcoreapp3.0_core",
            ],
            "netcoreapp3.1": [
            "@system.memory//:netcoreapp3.1_core",
            ],
        },
        core_files = {
            "netcoreapp2.0": [
            "lib/netstandard2.0/Grpc.Core.Api.dll",
            "lib/netstandard2.0/Grpc.Core.Api.pdb",
            ],
            "netcoreapp2.1": [
            "lib/netstandard2.0/Grpc.Core.Api.dll",
            "lib/netstandard2.0/Grpc.Core.Api.pdb",
            ],
            "netcoreapp3.0": [
            "lib/netstandard2.0/Grpc.Core.Api.dll",
            "lib/netstandard2.0/Grpc.Core.Api.pdb",
            ],
            "netcoreapp3.1": [
            "lib/netstandard2.0/Grpc.Core.Api.dll",
            "lib/netstandard2.0/Grpc.Core.Api.pdb",
            ],
        },
    )
    nuget_package(
        name = "grpc.core",
        package = "grpc.core",
        version = "2.34.0",
        sha256 = "0762a788c57c8f9db64de8390f0a6e77d906a773eccb4a97989e4af663832904",
        core_lib = {
            "netcoreapp2.0": "lib/netstandard2.0/Grpc.Core.dll",
            "netcoreapp2.1": "lib/netstandard2.0/Grpc.Core.dll",
            "netcoreapp3.0": "lib/netstandard2.0/Grpc.Core.dll",
            "netcoreapp3.1": "lib/netstandard2.0/Grpc.Core.dll",
        },
        core_deps = {
            "netcoreapp2.0": [
            "@grpc.core.api//:netcoreapp2.0_core",
            "@system.memory//:netcoreapp2.0_core",
            ],
            "netcoreapp2.1": [
            "@grpc.core.api//:netcoreapp2.1_core",
            "@system.memory//:netcoreapp2.1_core",
            ],
            "netcoreapp3.0": [
            "@grpc.core.api//:netcoreapp3.0_core",
            "@system.memory//:netcoreapp3.0_core",
            ],
            "netcoreapp3.1": [
            "@grpc.core.api//:netcoreapp3.1_core",
            "@system.memory//:netcoreapp3.1_core",
            ],
        },
        core_files = {
            "netcoreapp2.0": [
            "lib/netstandard2.0/Grpc.Core.dll",
            "lib/netstandard2.0/Grpc.Core.pdb",
            "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
            "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
            ],
            "netcoreapp2.1": [
            "lib/netstandard2.0/Grpc.Core.dll",
            "lib/netstandard2.0/Grpc.Core.pdb",
            "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
            "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
            ],
            "netcoreapp3.0": [
            "lib/netstandard2.0/Grpc.Core.dll",
            "lib/netstandard2.0/Grpc.Core.pdb",
            "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
            "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
            ],
            "netcoreapp3.1": [
            "lib/netstandard2.0/Grpc.Core.dll",
            "lib/netstandard2.0/Grpc.Core.pdb",
            "runtimes/linux-x64/native/libgrpc_csharp_ext.x64.so",
            "runtimes/osx-x64/native/libgrpc_csharp_ext.x64.dylib",
            ],
        },
    )
    nuget_package(
        name = "google.protobuf",
        package = "google.protobuf",
        version = PROTOBUF_VERSION,
        sha256 = "cbf79fe9b04cd8742a255f88e5961a3d075bfa6367012ce88e056e6e0c8dc523",
        core_lib = {
            "netcoreapp2.0": "lib/netstandard2.0/Google.Protobuf.dll",
            "netcoreapp2.1": "lib/netstandard2.0/Google.Protobuf.dll",
            "netcoreapp3.0": "lib/netstandard2.0/Google.Protobuf.dll",
            "netcoreapp3.1": "lib/netstandard2.0/Google.Protobuf.dll",
        },
        core_deps = {
            "netcoreapp2.0": [
            "@system.memory//:netcoreapp2.0_core",
            "@system.runtime.compilerservices.unsafe//:netcoreapp2.0_core",
            ],
            "netcoreapp2.1": [
            "@system.memory//:netcoreapp2.1_core",
            "@system.runtime.compilerservices.unsafe//:netcoreapp2.1_core",
            ],
            "netcoreapp3.0": [
            "@system.memory//:netcoreapp3.0_core",
            "@system.runtime.compilerservices.unsafe//:netcoreapp3.0_core",
            ],
            "netcoreapp3.1": [
            "@system.memory//:netcoreapp3.1_core",
            "@system.runtime.compilerservices.unsafe//:netcoreapp3.1_core",
            ],
        },
        core_files = {
            "netcoreapp2.0": [
            "lib/netstandard2.0/Google.Protobuf.dll",
            "lib/netstandard2.0/Google.Protobuf.pdb",
            ],
            "netcoreapp2.1": [
            "lib/netstandard2.0/Google.Protobuf.dll",
            "lib/netstandard2.0/Google.Protobuf.pdb",
            ],
            "netcoreapp3.0": [
            "lib/netstandard2.0/Google.Protobuf.dll",
            "lib/netstandard2.0/Google.Protobuf.pdb",
            ],
            "netcoreapp3.1": [
            "lib/netstandard2.0/Google.Protobuf.dll",
            "lib/netstandard2.0/Google.Protobuf.pdb",
            ],
        },
    )
    nuget_package(
        name = "google.api.commonprotos",
        package = "google.api.commonprotos",
        version = "2.2.0",
        sha256 = "2bc92c851fcdf7029f9f119f77a94e4ef364e2846821a6f2bf1d03ecc64d5c35",
        core_lib = {
            "netcoreapp2.0": "lib/netstandard2.0/Google.Api.CommonProtos.dll",
            "netcoreapp2.1": "lib/netstandard2.0/Google.Api.CommonProtos.dll",
            "netcoreapp3.0": "lib/netstandard2.0/Google.Api.CommonProtos.dll",
            "netcoreapp3.1": "lib/netstandard2.0/Google.Api.CommonProtos.dll",
        },
        core_deps = {
            "netcoreapp2.0": [
            "@google.protobuf//:netcoreapp2.0_core",
            ],
            "netcoreapp2.1": [
            "@google.protobuf//:netcoreapp2.1_core",
            ],
            "netcoreapp3.0": [
            "@google.protobuf//:netcoreapp3.0_core",
            ],
            "netcoreapp3.1": [
            "@google.protobuf//:netcoreapp3.1_core",
            ],
        },
        core_files = {
            "netcoreapp2.0": [
            "lib/netstandard2.0/Google.Api.CommonProtos.dll",
            "lib/netstandard2.0/Google.Api.CommonProtos.pdb",
            ],
            "netcoreapp2.1": [
            "lib/netstandard2.0/Google.Api.CommonProtos.dll",
            "lib/netstandard2.0/Google.Api.CommonProtos.pdb",
            ],
            "netcoreapp3.0": [
            "lib/netstandard2.0/Google.Api.CommonProtos.dll",
            "lib/netstandard2.0/Google.Api.CommonProtos.pdb",
            ],
            "netcoreapp3.1": [
            "lib/netstandard2.0/Google.Api.CommonProtos.dll",
            "lib/netstandard2.0/Google.Api.CommonProtos.pdb",
            ],
        },
    )
    ### End of generated by the tool
